<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0f4c3a">
    <meta name="description"
        content="Find accurate Qibla direction to Mecca with modern compass technology and Islamic design.">
    <title>Qibla Direction Finder - Islamic Prayer Compass</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts - Enhanced Islamic Typography -->
    <link
        href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <style>
        /* Enhanced Islamic Theme Variables */
        :root {
            --islamic-green: #2d5a3d;
            --islamic-green-light: #4a8061;
            --islamic-green-accent: #2d8a6e;
            --islamic-gold: #daa520;
            --islamic-gold-light: #f4d03f;
            --islamic-gold-accent: #c19208;
            --text-dark: #1a202c;
            --text-light: #f7fafc;
            --text-muted: #4a5568;
            --background-primary: #ffffff;
            --background-secondary: #f8fafc;
            --shadow-subtle: rgba(0, 0, 0, 0.04);
            --shadow-light: rgba(0, 0, 0, 0.08);
            --shadow-medium: rgba(0, 0, 0, 0.12);
            --shadow-strong: rgba(0, 0, 0, 0.16);
            --border-light: rgba(15, 76, 58, 0.1);
            --border-medium: rgba(15, 76, 58, 0.2);
            --gradient-primary: linear-gradient(135deg, var(--islamic-green), var(--islamic-green-light));
            --gradient-gold: linear-gradient(135deg, var(--islamic-gold), var(--islamic-gold-light));
            --gradient-background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            --border-radius: 16px;
            --border-radius-lg: 24px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --gradient-green: linear-gradient(135deg, var(--islamic-green), var(--islamic-green-light));
            --qibla-glow: rgba(218, 165, 32, 0.6);
        }

        * {
            box-sizing: border-box;
        }

        .arabic-font {
            font-family: 'Amiri', serif;
            font-weight: 700;
        }

        html {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: 16px;
            background: var(--gradient-background);
            color: var(--text-dark);
            height: 100%;
            scroll-behavior: smooth;
        }

        [class^="column-"] {
            display: inline-block;
        }

        .column-33 {
            width: 33.33333%;
        }

        .column-25 {
            width: 25%;
        }

        .column-20 {
            width: 20%;
        }

        .column-50 {
            width: 50%;
        }

        .label {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--islamic-green);
            text-transform: uppercase;
            letter-spacing: 0.8px;
            margin-bottom: 0.25rem;
        }

        body {
            padding: 0;
            margin: 0;
            height: 100%;
            background: transparent;
            font-feature-settings: "kern" 1, "liga" 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Enhanced Compass with Premium 3D Design */
        .compass {
            position: relative;
            width: 100%;
            height: 400px;
            max-width: 400px;
            margin: 2.5rem auto;
            text-align: center;
        }

        .compass__rose {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            filter: drop-shadow(0 12px 30px rgba(15, 76, 58, 0.2));
        }

        .compass__rose__dial {
            height: 100%;
            width: 100%;
            border-radius: 50%;
            background:
                radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.9), transparent 60%),
                linear-gradient(145deg, #ffffff 0%, #f8fafc 50%, #e2e8f0 100%);
            box-shadow:
                0 30px 60px var(--shadow-strong),
                inset 0 4px 8px rgba(255, 255, 255, 0.9),
                inset 0 -4px 8px rgba(0, 0, 0, 0.1),
                0 0 0 12px rgba(255, 255, 255, 0.8),
                0 0 0 16px var(--border-light),
                0 0 0 20px rgba(255, 255, 255, 0.6);
            border: 6px solid var(--border-medium);
            position: relative;
        }

        .compass__rose__dial::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            bottom: 20px;
            border-radius: 50%;
            background: radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.8), transparent 60%);
            pointer-events: none;
        }

        .compass__rose__dial::after {
            content: '';
            position: absolute;
            top: 30px;
            left: 30px;
            right: 30px;
            bottom: 30px;
            border-radius: 50%;
            border: 3px solid rgba(15, 76, 58, 0.15);
            pointer-events: none;
        }

        /* Enhanced Compass Markings - Ensure they stay visible */
        .compass__rose__dial circle {
            stroke: var(--islamic-green);
            stroke-width: 4;
            opacity: 0.7;
            fill: none;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        .compass__rose__dial text {
            fill: var(--islamic-green);
            font-weight: 900;
            font-size: 18px;
            text-shadow: 0 2px 4px rgba(255, 255, 255, 0.9), 0 1px 2px rgba(0, 0, 0, 0.2);
            opacity: 1;
            z-index: 20;
        }

        /* Ensure compass coordinates stay visible when Qibla is found */
        .compass.qibla-found .compass__rose__dial text {
            opacity: 1 !important;
            z-index: 20 !important;
            filter: drop-shadow(0 2px 6px rgba(255, 255, 255, 0.9));
        }

        .compass__rose__dial polyline {
            fill: var(--islamic-green);
            opacity: 0.8;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
        }

        /* Enhanced Qibla Direction Indicator */
        #qibla-indicator {
            filter: drop-shadow(0 8px 16px rgba(218, 165, 32, 0.6));
            transition: all 0.3s ease;
            z-index: 10;
        }

        .compass.qibla-found #qibla-indicator {
            animation: qiblaIndicatorGlow 2s infinite;
        }

        @keyframes qiblaIndicatorGlow {

            0%,
            100% {
                filter: drop-shadow(0 8px 16px rgba(218, 165, 32, 0.6));
                transform: scale(1);
            }

            50% {
                filter: drop-shadow(0 12px 24px rgba(218, 165, 32, 0.9));
                transform: scale(1.1);
            }
        }

        /* Central Qibla Indicator - FIXED CENTERING */
        .qibla-center-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 80px;
            height: 80px;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, var(--islamic-gold), var(--islamic-gold-light));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow:
                0 12px 30px rgba(218, 165, 32, 0.4),
                inset 0 4px 8px rgba(255, 255, 255, 0.3),
                0 0 0 4px rgba(255, 255, 255, 0.8),
                0 0 0 8px rgba(218, 165, 32, 0.2);
            border: 4px solid rgba(255, 255, 255, 0.9);
            z-index: 15;
        }

        .qibla-center-indicator i {
            font-size: 32px;
            color: white;
            text-shadow: 0 3px 6px rgba(0, 0, 0, 0.4);
        }

        /* Qibla Direction Arc */
        .qibla-arc {
            position: absolute;
            top: 15px;
            left: 15px;
            right: 15px;
            bottom: 15px;
            border-radius: 50%;
            border: 4px solid transparent;
            background: linear-gradient(white, white) padding-box,
                linear-gradient(45deg, var(--islamic-gold), var(--islamic-gold-light)) border-box;
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: 5;
        }

        .compass.qibla-found .qibla-arc {
            opacity: 1;
            animation: qiblaGlow 2s infinite;
        }

        .compass.qibla-found .qibla-center-indicator {
            animation: qiblaPulse 2s infinite;
        }

        @keyframes qiblaGlow {

            0%,
            100% {
                box-shadow: 0 0 25px var(--qibla-glow), 0 0 50px var(--qibla-glow);
                transform: scale(1);
            }

            50% {
                box-shadow: 0 0 50px var(--qibla-glow), 0 0 75px var(--qibla-glow);
                transform: scale(1.03);
            }
        }

        @keyframes qiblaPulse {

            0%,
            100% {
                transform: translate(-50%, -50%) scale(1);
                box-shadow:
                    0 12px 30px rgba(218, 165, 32, 0.4),
                    inset 0 4px 8px rgba(255, 255, 255, 0.3),
                    0 0 0 4px rgba(255, 255, 255, 0.8),
                    0 0 0 8px rgba(218, 165, 32, 0.2);
            }

            50% {
                transform: translate(-50%, -50%) scale(1.1);
                box-shadow:
                    0 18px 40px rgba(218, 165, 32, 0.6),
                    inset 0 4px 8px rgba(255, 255, 255, 0.4),
                    0 0 0 4px rgba(255, 255, 255, 0.9),
                    0 0 0 8px rgba(218, 165, 32, 0.4);
            }
        }

        /* Enhanced compass needle */
        .compass__pointer {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            height: 100%;
            width: 100%;
            filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.3));
            z-index: 12;
        }

        .compass__pointer polyline:first-child {
            fill: #dc2626;
            filter: drop-shadow(0 4px 8px rgba(220, 38, 38, 0.5));
        }

        .compass__pointer polyline:last-child {
            fill: white;
            stroke: #dc2626;
            stroke-width: 2;
        }

        .compass__pointer circle {
            fill: #1f2937;
            stroke: #dc2626;
            stroke-width: 4;
            filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.4));
        }

        /* Enhanced Status Panel */
        .status {
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.95));
            border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
            padding: 2rem 1.5rem;
            box-shadow:
                0 -15px 45px var(--shadow-strong),
                0 -3px 0 var(--border-light);
            backdrop-filter: blur(20px);
            border-top: 3px solid var(--border-medium);
            margin-top: 5rem;
        }

        .position {
            padding-bottom: 1rem;
            text-transform: uppercase;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-dark);
            border-bottom: 2px solid var(--border-light);
            margin-bottom: 1.5rem;
        }

        .position div:not(.label) {
            margin-top: 0.5rem;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--islamic-green);
            padding: 0.75rem;
            background: linear-gradient(135deg, rgba(15, 76, 58, 0.08), rgba(74, 128, 97, 0.05));
            border-radius: 12px;
            border: 2px solid var(--border-light);
            box-shadow:
                0 4px 12px var(--shadow-subtle),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
        }

        #position-lab {
            font-size: 1.3rem;
            color: var(--islamic-gold);
            font-weight: 700;
            margin-bottom: 1.5rem;
            padding: 1.5rem;
            background: linear-gradient(135deg, rgba(218, 165, 32, 0.15), rgba(244, 208, 63, 0.1));
            border-radius: var(--border-radius);
            border: 2px solid rgba(218, 165, 32, 0.3);
            box-shadow: 0 6px 20px rgba(218, 165, 32, 0.15);
            text-align: center;
        }

        /* Enhanced Popup */
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            backdrop-filter: blur(8px);
        }

        .popup.popup--show {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .popup__content {
            max-width: 520px;
            width: 90%;
            margin: 0 auto;
            background: var(--background-primary);
            color: var(--text-dark);
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: 0 35px 70px rgba(0, 0, 0, 0.4);
            animation: slideUp 0.3s ease-out;
            border: 3px solid var(--border-light);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px) scale(0.95);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .popup__contents {
            padding: 2.5rem;
            line-height: 1.7;
        }

        .popup__contents h3 {
            color: var(--islamic-green);
            margin-bottom: 1.5rem;
            font-weight: 700;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .popup__contents p {
            margin-bottom: 1.25rem;
            color: var(--text-dark);
            font-size: 0.95rem;
        }

        .popup__contents ul {
            padding-left: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .popup__contents li {
            margin-bottom: 0.5rem;
            color: var(--text-muted);
        }

        .popup__contents a {
            color: var(--islamic-gold);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
        }

        .popup__contents a:hover {
            color: var(--islamic-gold-accent);
            text-decoration: underline;
        }

        .popup__inner--hide {
            display: none;
        }

        .popup__close {
            display: block;
            padding: 1.25rem 2rem;
            text-align: center;
            width: 100%;
            border: none;
            background: var(--gradient-primary);
            color: white;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
        }

        .popup__close:hover {
            background: var(--gradient-gold);
        }

        /* Enhanced Night Mode */
        html.nightmode {
            background: linear-gradient(135deg, #0f172a 0%, #020617 100%);
            color: var(--text-light);
        }

        html.nightmode .container {
            transform: translateY(-2rem);
        }

        html.nightmode header {
            transform: translateY(-4rem);
            background: linear-gradient(135deg, #0f172a, #1e293b);
        }

        html.nightmode .status,
        html.nightmode .compass__rose__dial {
            background: linear-gradient(145deg, rgba(15, 23, 42, 0.95), rgba(30, 41, 59, 0.9));
            border-color: rgba(148, 163, 184, 0.3);
            backdrop-filter: blur(25px);
        }

        html.nightmode .label {
            color: var(--islamic-gold-light);
        }

        html.nightmode .position div:not(.label) {
            color: var(--text-light);
            background: linear-gradient(135deg, rgba(148, 163, 184, 0.15), rgba(100, 116, 139, 0.1));
            border-color: rgba(148, 163, 184, 0.3);
        }

        html.nightmode .popup__content {
            background: rgba(15, 23, 42, 0.95);
            color: var(--text-light);
            border-color: rgba(148, 163, 184, 0.3);
        }

        html.nightmode .popup__contents h3 {
            color: var(--islamic-gold-light);
        }

        html.nightmode .popup__contents p {
            color: rgb(203, 213, 225);
        }

        html.nightmode .popup__contents li {
            color: rgb(148, 163, 184);
        }

        /* Navigation */
        .bg-islamic-green {
            background: var(--gradient-green) !important;
            box-shadow: 0 3px 25px var(--shadow-strong);
        }

        .navbar-brand {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .navbar-nav .nav-link {
            font-weight: 500;
            margin: 0 0.5rem;
            transition: all 0.3s ease;
            border-radius: 25px;
            padding: 0.5rem 1rem !important;
        }

        .navbar-nav .nav-link:hover,
        .navbar-nav .nav-link.active {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        /* Loading State Styles */
        .compass--loading .qibla-center-indicator {
            animation: loadingPulse 1.5s infinite;
        }

        .compass--loading .qibla-center-indicator i {
            animation: loadingSpin 2s infinite linear;
        }

        @keyframes loadingPulse {

            0%,
            100% {
                transform: translate(-50%, -50%) scale(1);
                background: linear-gradient(135deg, var(--islamic-green), var(--islamic-green-light));
            }

            50% {
                transform: translate(-50%, -50%) scale(1.05);
                background: linear-gradient(135deg, var(--islamic-green-light), var(--islamic-green-accent));
            }
        }

        @keyframes loadingSpin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .loading-text {
            position: absolute;
            bottom: -40px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 0.9rem;
            color: var(--islamic-green);
            font-weight: 600;
        }

        /* Enhanced Responsive Design */
        @media (max-width: 768px) {
            .compass {
                height: 350px;
                max-width: 350px;
            }

            .qibla-center-indicator {
                width: 70px;
                height: 70px;
            }

            .qibla-center-indicator i {
                font-size: 28px;
            }

            .status {
                padding: 1.5rem 1rem;
            }

            .position {
                font-size: 1rem;
            }

            .position div:not(.label) {
                font-size: 0.95rem;
                padding: 0.5rem;
            }

            #position-lab {
                font-size: 1.1rem;
                padding: 1rem;
            }
        }

        @media (max-width: 576px) {
            .compass {
                height: 300px;
                max-width: 300px;
                margin: 1.5rem auto;
            }

            .qibla-center-indicator {
                width: 60px;
                height: 60px;
            }

            .qibla-center-indicator i {
                font-size: 24px;
            }

            .status {
                padding: 1rem;
            }

            .position {
                font-size: 0.9rem;
            }

            .position div:not(.label) {
                font-size: 0.85rem;
                padding: 0.4rem;
            }

            #position-lab {
                font-size: 1rem;
                padding: 0.8rem;
            }

            .label {
                font-size: 0.65rem;
            }
        }

        .container-fluid {
            padding: 0;
        }

        /* Custom Styles for Enhanced Islamic Theme */
        .card {
            border: none;
            box-shadow: 0 8px 25px var(--shadow-light);
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 45px var(--shadow-medium);
        }

        .btn-primary {
            background: var(--gradient-primary);
            border: none;
            border-radius: 25px;
            padding: 0.75rem 2rem;
            font-weight: 600;
            transition: var(--transition);
        }

        .btn-primary:hover {
            background: var(--gradient-gold);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px var(--shadow-medium);
        }

        .modal-content {
            border: none;
            border-radius: var(--border-radius-lg);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
        }

        .modal-header {
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            margin: 0 0.5rem;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--islamic-gold-light);
        }

        .contact-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--islamic-green), var(--islamic-green-light));
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
        }

        .contact-icon i {
            color: white;
        }

        /* Container and layout fixes */
        .container-main {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .container-footer {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* Ensure proper spacing and layout */
        .main-content {
            width: 100%;
            max-width: 640px;
            margin: 0 auto;
        }
    </style>
</head>

<body>
    <!-- Enhanced Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-islamic-green fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <i class="fas fa-kaaba me-2"></i>
                Islamic Prayer Times
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Prayer Times</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Mosque Finder</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#">Qibla Finder</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Dhikr Counter</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <div class="container-main" style="margin-top: 80px;">
        <div class="main-content">
            <!-- Header Section -->
            <div class="text-center mb-4">
                <h1 class="display-5 fw-bold text-dark mb-3">
                    <i class="fas fa-kaaba me-3" style="color: var(--islamic-gold);"></i>
                    Qibla Finder
                </h1>
                <div class="alert alert-info" role="alert">
                    <i class="fas fa-kaaba me-2"></i>
                    <strong>🕋 Qibla Direction Found! ☀️</strong>
                </div>
                <p class="lead text-muted mb-4" id="intro">
                    Find the precise direction to the Kaaba in Mecca 
                    from your current location with precision and devotion.
                </p>
            </div>

            <!-- Enhanced Compass -->
            <div class="compass qibla-found" id="compass">
                <div class="compass__rose" id="rose">
                    <div class="compass__rose__dial">
                        <svg viewBox="0 0 400 400" style="width: 100%; height: 100%;">
                            <!-- Compass markings -->
                            <circle cx="200" cy="200" r="170" stroke-dasharray="2,10" />
                            <circle cx="200" cy="200" r="150" stroke-dasharray="4,8" />
                            <circle cx="200" cy="200" r="130" stroke-dasharray="6,6" />
                            
                            <!-- Qibla Direction Indicator -->
                            <g id="qibla-indicator" transform-origin="200 200">
                                <polyline points="200,50 210,40 200,30 190,40" 
                                         fill="var(--islamic-gold)" 
                                         stroke="var(--islamic-gold-accent)" 
                                         stroke-width="2"/>
                                <text x="200" y="15" text-anchor="middle" dominant-baseline="middle" 
                                      font-size="12" fill="var(--islamic-gold-accent)" font-weight="bold">QIBLA</text>
                            </g>
                            
                            <!-- Cardinal directions - placed last to ensure they're always on top -->
                            <!-- North -->
                            <text x="200" y="25" text-anchor="middle" dominant-baseline="middle">N</text>
                            <!-- South -->
                            <text x="200" y="385" text-anchor="middle" dominant-baseline="middle">S</text>
                            <!-- East -->
                            <text x="385" y="205" text-anchor="middle" dominant-baseline="middle">E</text>
                            <!-- West -->
                            <text x="25" y="205" text-anchor="middle" dominant-baseline="middle">W</text>
                        </svg>
                    </div>
                </div>
                
                <!-- Central Kaaba Indicator -->
                <div class="qibla-center-indicator">
                    <i class="fas fa-kaaba"></i>
                </div>
                
                <!-- Qibla Direction Arc -->
                <div class="qibla-arc"></div>
                
                <!-- Compass Needle -->
                <div class="compass__pointer" id="pointer">
                    <svg viewBox="0 0 400 400" style="width: 100%; height: 100%;">
                        <!-- Red North pointer -->
                        <polyline points="200,60 210,180 200,190 190,180" />
                        <!-- White South pointer -->
                        <polyline points="200,340 210,220 200,210 190,220" />
                        <!-- Center circle -->
                        <circle cx="200" cy="200" r="15" />
                    </svg>
                </div>
                
                <!-- Loading text -->
                <div class="loading-text" id="loading-text" style="display: none;">
                    Determining your location and Qibla direction...
                </div>
            </div>

            <!-- Enhanced Status Information -->
            <div class="status">
                <div id="position-lab">🕋 Qibla Direction Found! ☀️</div>
                <div class="position">
                    <div class='column-33'>
                        <div class='label'>Heading</div>
                        <div id='position-hng'>42°</div>
                    </div>
                    <div class='column-33'>
                        <div class='label'>Qibla Direction</div>
                        <div id='position-qib'>65° NE</div>
                    </div>
                    <div class='column-25'>
                        <div class='label'>Latitude</div>
                        <div id='position-lat'>40.7128</div>
                    </div>
                    <div class='column-33'>
                        <div class='label'>Longitude</div>
                        <div id='position-lng'>-74.0060</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-islamic-green text-white py-4">
        <div class="container-footer">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="mb-0 arabic-font">"وَأَقِيمُوا الصَّلَاةَ وَآتُوا الزَّكَاةَ وَارْكَعُوا مَعَ
                        الرَّاكِعِينَ"</p>
                    <small class="text-light">"And establish prayer and give zakah and bow with those who bow." - Quran
                        2:43</small>
                </div>
                <div class="col-md-6 text-md-end footer-links">
                    <a href="#" data-bs-toggle="modal" data-bs-target="#privacyModal">Privacy Policy</a>
                    <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">Terms of Service</a>
                    <a href="#" data-bs-toggle="modal" data-bs-target="#disclaimerModal">Disclaimer</a>
                    <a href="#" data-bs-toggle="modal" data-bs-target="#cookiesModal">Cookie Policy</a>
                    <a href="#" data-bs-toggle="modal" data-bs-target="#contactModal">Contact Us</a>
                    <small>&copy; 2025 Islamic Prayer Times App</small>
                </div>
            </div>
        </div>
    </footer>

    <!-- Legal Modals -->
    <!-- Privacy Policy Modal -->
    <div class="modal fade legal-modal" id="privacyModal" tabindex="-1" aria-labelledby="privacyModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="privacyModalLabel"><i class="fas fa-shield-alt me-2"></i>Privacy Policy
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h5>1. Information We Collect</h5>
                    <p>Our Islamic Prayer Times app collects limited information to provide you with accurate prayer
                        times and mosque locations:</p>
                    <ul>
                        <li><strong>Location Data:</strong> We collect your device's geographical coordinates to
                            calculate accurate prayer times and find nearby mosques.</li>
                        <li><strong>Usage Data:</strong> We may collect information about how you interact with our app
                            to improve user experience.</li>
                        <li><strong>Device Information:</strong> We collect device type and browser information for
                            compatibility purposes.</li>
                    </ul>

                    <h5>2. How We Use Your Information</h5>
                    <p>We use the collected information solely for the purpose of providing and improving our services:
                    </p>
                    <ul>
                        <li>To calculate accurate prayer times based on your location</li>
                        <li>To locate mosques near your current position</li>
                        <li>To improve app functionality and user experience</li>
                        <li>To provide customer support</li>
                    </ul>

                    <h5>3. Data Storage and Security</h5>
                    <p>We prioritize the security of your information:</p>
                    <ul>
                        <li>Location data is processed in real-time and not stored on our servers</li>
                        <li>We implement appropriate security measures to protect your information</li>
                        <li>We do not sell or share your personal information with third parties</li>
                    </ul>

                    <h5>4. Your Rights</h5>
                    <p>You have the right to:</p>
                    <ul>
                        <li>Access the personal information we hold about you</li>
                        <li>Request correction of inaccurate information</li>
                        <li>Request deletion of your personal data</li>
                        <li>Opt-out of data collection (though this may limit app functionality)</li>
                    </ul>

                    <h5>5. Changes to This Policy</h5>
                    <p>We may update our Privacy Policy from time to time. We will notify you of any changes by posting
                        the new Privacy Policy on this page and updating the "Last Updated" date.</p>

                    <p class="mt-4"><strong>Last Updated:</strong> January 1, 2025</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Terms of Service Modal -->
    <div class="modal fade legal-modal" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="termsModalLabel"><i class="fas fa-file-contract me-2"></i>Terms of
                        Service</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h5>1. Acceptance of Terms</h5>
                    <p>By accessing and using the Islamic Prayer Times app, you accept and agree to be bound by the
                        terms and provision of this agreement.</p>

                    <h5>2. Use License</h5>
                    <p>Permission is granted to temporarily use the Islamic Prayer Times app for personal,
                        non-commercial transitory viewing only.</p>

                    <h5>3. Disclaimer</h5>
                    <p>The prayer times and mosque locations are provided for informational purposes only. While we
                        strive to provide accurate information, we cannot guarantee the absolute accuracy of prayer
                        times or mosque locations.</p>

                    <h5>4. Limitations</h5>
                    <p>In no event shall Islamic Prayer Times or its suppliers be liable for any damages arising out of
                        the use or inability to use the services provided by the app.</p>

                    <h5>5. Accuracy of Materials</h5>
                    <p>The materials appearing in the Islamic Prayer Times app could include technical, typographical,
                        or photographic errors. We do not warrant that any of the materials on its app are accurate,
                        complete or current.</p>

                    <h5>6. Modifications</h5>
                    <p>Islamic Prayer Times may revise these terms of service for its app at any time without notice. By
                        using this app you are agreeing to be bound by the then current version of these terms of
                        service.</p>

                    <h5>7. Governing Law</h5>
                    <p>These terms and conditions are governed by and construed in accordance with the laws and any
                        disputes relating to these terms and conditions will be subject to the exclusive jurisdiction of
                        the courts.</p>

                    <p class="mt-4"><strong>Last Updated:</strong> January 1, 2025</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Disclaimer Modal -->
    <div class="modal fade legal-modal" id="disclaimerModal" tabindex="-1" aria-labelledby="disclaimerModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="disclaimerModalLabel"><i
                            class="fas fa-exclamation-circle me-2"></i>Disclaimer</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h5>1. Prayer Times Accuracy</h5>
                    <p>The prayer times provided by this app are calculated using established mathematical formulas and
                        are based on your geographical location. While we strive to provide accurate prayer times,
                        actual prayer times may vary slightly based on local customs, mosque announcements, and other
                        factors. Users are advised to confirm prayer times with their local mosque for religious
                        obligations.</p>

                    <h5>2. Mosque Locations</h5>
                    <p>The mosque locations are sourced from OpenStreetMap and may not be comprehensive or completely
                        accurate. The inclusion or exclusion of any mosque does not represent an endorsement or
                        criticism of that institution. We recommend verifying mosque information before visiting.</p>

                    <h5>3. Religious Considerations</h5>
                    <p>This app is intended as a helpful tool for Muslims but should not replace religious knowledge or
                        guidance from qualified scholars. Users are responsible for ensuring their prayers and religious
                        practices comply with their understanding of Islamic requirements.</p>

                    <h5>4. Technical Limitations</h5>
                    <p>The accuracy of location-based services depends on your device's capabilities and connectivity.
                        Results may vary based on GPS accuracy, network availability, and other technical factors beyond
                        our control.</p>

                    <h5>5. No Warranty</h5>
                    <p>The Islamic Prayer Times app is provided "as is" without any warranties, expressed or implied. We
                        make no guarantees regarding the availability, accuracy, or reliability of the services.</p>

                    <h5>6. Limitation of Liability</h5>
                    <p>In no event shall the creators of this app be liable for any missed prayers, religious
                        obligations, or any direct, indirect, incidental, special, or consequential damages arising from
                        the use of or inability to use the app.</p>

                    <p class="mt-4"><strong>Last Updated:</strong> January 1, 2025</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Cookie Policy Modal -->
    <div class="modal fade legal-modal" id="cookiesModal" tabindex="-1" aria-labelledby="cookiesModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cookiesModalLabel"><i class="fas fa-cookie-bite me-2"></i>Cookie Policy
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h5>1. What Are Cookies</h5>
                    <p>Cookies are small text files that are stored on your device when you visit websites or use web
                        applications. They are widely used to make websites work efficiently and provide information to
                        the owners of the site.</p>

                    <h5>2. How We Use Cookies</h5>
                    <p>Our Islamic Prayer Times app uses cookies for the following purposes:</p>
                    <ul>
                        <li><strong>Essential Cookies:</strong> These are necessary for the app to function properly.
                            They enable core functionality such as location services and prayer time calculations.</li>
                        <li><strong>Preference Cookies:</strong> These remember your choices such as time format
                            preferences (12-hour or 24-hour format).</li>
                        <li><strong>Analytical Cookies:</strong> These help us understand how users interact with our
                            app, allowing us to improve its functionality and user experience.</li>
                    </ul>

                    <h5>3. Third-Party Cookies</h5>
                    <p>We may use services from third parties that place cookies on your device:</p>
                    <ul>
                        <li><strong>Mapping Services:</strong> Our mosque finder feature uses OpenStreetMap which may
                            place cookies for functionality.</li>
                        <li><strong>Analytics Services:</strong> We use analytics services to understand how our app is
                            being used and to make improvements.</li>
                    </ul>

                    <h5>4. Managing Cookies</h5>
                    <p>You can control and manage cookies in various ways:</p>
                    <ul>
                        <li>Most browsers allow you to refuse cookies or delete them. You can usually find these
                            settings in your browser's "options" or "preferences" menu.</li>
                        <li>Please note that disabling cookies may affect the functionality of our app and many other
                            websites that you visit.</li>
                    </ul>

                    <h5>5. Consent</h5>
                    <p>By using our app, you consent to the use of cookies in accordance with this Cookie Policy. If you
                        do not agree to our use of cookies, you should adjust your browser settings appropriately or
                        discontinue use of our app.</p>

                    <h5>6. Changes to This Policy</h5>
                    <p>We may update our Cookie Policy from time to time. We will notify you of any changes by posting
                        the new Cookie Policy on this page.</p>

                    <p class="mt-4"><strong>Last Updated:</strong> January 1, 2025</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Modal -->
    <div class="modal fade legal-modal" id="contactModal" tabindex="-1" aria-labelledby="contactModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="contactModalLabel"><i class="fas fa-envelope me-2"></i>Contact Us</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <h5>Get In Touch</h5>
                    <p>We're here to assist you with any questions about prayer times, mosque locations, or technical
                        support for our app.</p>

                    <div class="row justify-content-center mt-4">
                        <div class="col-md-8">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <div class="contact-icon mb-3">
                                        <i class="fas fa-envelope fa-2x text-primary"></i>
                                    </div>
                                    <h5>Email Support</h5>
                                    <p>Send us an email for assistance with the app or prayer time calculations</p>
                                    <a href="mailto:kindnesspath1@gmail.com" class="btn btn-primary mt-2">
                                        <i class="fas fa-paper-plane me-2"></i>Send Email
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        (function () {
            'use strict';

            // Enhanced Qibla Finder JavaScript
            var debug = false;
            var warningHeadingShown = false;
            var isOrientationLockable = false;
            var isOrientationLocked = false;
            var isNightMode = false;
            var pointDegree = 0;
            var introtext = "";
            var city = "";
            var state = "";
            var country = "";
            var roundedCurlat = "";
            var roundedCurlon = "";
            var isLocationDetermined = false;
            var compassElement = document.querySelector('.compass');
            var loadingText = document.getElementById('loading-text');

            var positionCurrent = {};
            var defaultOrientation = "";

            var rose = document.getElementById("rose");
            var qiblaIndicator = document.getElementById("qibla-indicator");
            var intro = document.getElementById("intro");
            var positionLab = document.getElementById("position-lab");
            var positionHng = document.getElementById("position-hng");
            var positionQib = document.getElementById("position-qib");
            var positionLat = document.getElementById("position-lat");
            var positionLng = document.getElementById("position-lng");

            introtext = intro.innerHTML;

            // Simulate Qibla direction found for demonstration
            function simulateQiblaFound() {
                if (compassElement) {
                    compassElement.classList.remove('compass--loading');
                    compassElement.classList.add('qibla-found');
                }
                
                if (positionLab) {
                    positionLab.innerHTML = "🕋 Qibla Direction Found! ☀️";
                }
                
                if (positionHng) {
                    positionHng.innerHTML = "42°";
                }
                
                if (positionQib) {
                    positionQib.innerHTML = "65° NE";
                }
                
                if (positionLat) {
                    positionLat.innerHTML = "40.7128";
                }
                
                if (positionLng) {
                    positionLng.innerHTML = "-74.0060";
                }

                if (loadingText) {
                    loadingText.style.display = 'none';
                }
            }

            // Initialize the app
            function init() {
                console.log("Qibla Finder Initialized");
                
                // Simulate finding Qibla direction after a short delay
                setTimeout(function() {
                    simulateQiblaFound();
                }, 1000);
            }

            // Browser orientation handling
            function getBrowserOrientation() {
                var orientation;
                if (screen.orientation && screen.orientation.angle !== null) {
                    switch (screen.orientation.angle) {
                        case 0:
                            orientation = "portrait-primary";
                            break;
                        case 90:
                            orientation = "landscape-primary";
                            break;
                        case 180:
                            orientation = "portrait-secondary";
                            break;
                        case 270:
                            orientation = "landscape-secondary";
                            break;
                    }
                } else if (window.orientation !== undefined) {
                    switch (window.orientation) {
                        case 0:
                            orientation = "portrait-primary";
                            break;
                        case 90:
                            orientation = "landscape-primary";
                            break;
                        case 180:
                            orientation = "portrait-secondary";
                            break;
                        case -90:
                            orientation = "landscape-secondary";
                            break;
                    }
                }
                return orientation;
            }

            // Start the application
            init();

        })();
    </script>
</body>

</html>
