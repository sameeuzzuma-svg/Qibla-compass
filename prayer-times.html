<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prayer Times - SunnahWise</title>
    <meta name="description"
        content="Accurate Islamic prayer times for your location with multiple calculation methods.">
    <meta name="keywords"
        content="prayer times, salah times, daily prayer, today's prayer times, Islamic prayer schedule, namaz times, Muslim prayer">

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts - Islamic Style -->
    <link
        href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Roboto:wght@300;400;500;700&display=swap"
        rel="stylesheet">

    <style>
        /* Islamic Prayer Times App - Custom Styles */
        :root {
            --islamic-green: #2d5a3d;
            --islamic-green-light: #4a8061;
            --islamic-gold: #d4af37;
            --islamic-gold-light: #f4d03f;
            --text-dark: #2c3e50;
            --text-light: #ecf0f1;
            --shadow-light: rgba(0, 0, 0, 0.1);
            --shadow-medium: rgba(0, 0, 0, 0.15);
            --gradient-green: linear-gradient(135deg, var(--islamic-green), var(--islamic-green-light));
            --gradient-gold: linear-gradient(135deg, var(--islamic-gold), var(--islamic-gold-light));
        }

        /* Base Styles */
        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding-top: 76px;
        }

        .arabic-font {
            font-family: 'Amiri', serif;
            font-weight: 700;
        }

        /* Navigation */
        .bg-islamic-green {
            background: var(--gradient-green) !important;
            box-shadow: 0 2px 20px var(--shadow-medium);
        }

        .navbar-brand {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .navbar-nav .nav-link {
            font-weight: 500;
            margin: 0 0.5rem;
            transition: all 0.3s ease;
            border-radius: 25px;
            padding: 0.5rem 1rem !important;
        }

        .navbar-nav .nav-link:hover,
        .navbar-nav .nav-link.active {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        /* Section Header */
        .section-header {
            margin-bottom: 3rem;
        }

        .section-header h1 {
            color: var(--islamic-green);
            font-weight: 700;
            margin-bottom: 1rem;
        }

        /* Location Card */
        .location-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px var(--shadow-light);
            transition: transform 0.3s ease;
        }

        .location-card:hover {
            transform: translateY(-5px);
        }

        .location-card .card-header {
            background: var(--gradient-green);
            color: white;
            font-weight: 600;
            padding: 1rem 1.5rem;
            border: none;
        }

        .location-card .card-body {
            padding: 1.5rem;
        }

        /* Prayer Time Cards */
        .prayer-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 8px 25px var(--shadow-light);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .prayer-card:hover {
            transform: translateY(-5px);
            border-color: var(--islamic-gold);
            box-shadow: 0 15px 35px var(--shadow-medium);
        }

        .prayer-card .prayer-icon {
            font-size: 2.5rem;
            color: var(--islamic-green);
            margin-bottom: 1rem;
        }

        .prayer-card .prayer-name {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--islamic-green);
            margin-bottom: 0.5rem;
        }

        .prayer-card .prayer-time {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--islamic-gold);
            font-family: 'Roboto', monospace;
        }

        .prayer-card.current-prayer {
            background: var(--gradient-green);
            color: white;
        }

        .prayer-card.current-prayer .prayer-icon,
        .prayer-card.current-prayer .prayer-name {
            color: white;
        }

        .prayer-card.current-prayer .prayer-time {
            color: var(--islamic-gold-light);
        }

        /* Cards */
        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 8px 25px var(--shadow-light);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-header {
            background: var(--gradient-green);
            color: white;
            border: none;
            font-weight: 600;
        }

        /* Alerts */
        .alert {
            border: none;
            border-radius: 10px;
            box-shadow: 0 4px 15px var(--shadow-light);
        }

        /* Loading Spinners */
        .spinner-border {
            color: var(--islamic-green) !important;
        }

        /* Buttons */
        .btn-primary {
            background: var(--gradient-green);
            border: none;
            border-radius: 25px;
            padding: 0.75rem 2rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background: var(--gradient-gold);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(--shadow-medium);
        }

        /* Footer */
        footer {
            background: var(--gradient-green) !important;
            margin-top: 3rem;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: color 0.3s ease;
            margin: 0 10px;
            font-size: 0.9rem;
        }

        .footer-links a:hover {
            color: white;
            text-decoration: underline;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding-top: 76px;
            }

            .prayer-card {
                margin-bottom: 1rem;
            }
        }

        @media (max-width: 480px) {
            .prayer-card .prayer-icon {
                font-size: 2rem;
            }

            .prayer-card .prayer-name {
                font-size: 1rem;
            }

            .prayer-card .prayer-time {
                font-size: 1.2rem;
            }
        }
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-islamic-green fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-mosque me-2"></i>
                SunnahWise
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="prayer-times.html">Prayer Times</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="mosque-finder.html" onclick="return addLocationToLink(this)">Mosque
                            Finder</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="qibla.html" onclick="return addLocationToLink(this)">Qibla Finder</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="dhikr.html">Dhikr Counter</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container py-5">
            <div class="section-header text-center">
                <h1><i class="fas fa-pray me-3"></i>Prayer Times</h1>
                <p class="lead">Accurate Namaz timings with advanced features</p>
            </div>

            <!-- Location Loading -->
            <div id="prayer-loading" class="text-center mb-4">
                <div class="spinner-border" role="status">
                    <span class="visually-hidden">Loading prayer times...</span>
                </div>
                <p class="mt-2">Loading prayer times for your location...</p>
            </div>

            <!-- Location Error -->
            <div id="prayer-error" class="alert alert-warning text-center d-none" role="alert">
                <h5 class="alert-heading"><i class="fas fa-exclamation-triangle me-2"></i>Unable to get your location
                </h5>
                <p class="mb-0">Please allow location access to view accurate prayer times for your area.</p>
            </div>

            <!-- Prayer Calculation Method -->
            <div id="calculation-method" class="card mb-4 d-none">
                <div class="card-header">
                    <i class="fas fa-calculator me-2"></i>Calculation Method
                </div>
                <div class="card-body">
                    <select class="form-select" id="methodSelect">
                        <option value="2">Islamic Society of North America (ISNA)</option>
                        <option value="1">University of Islamic Sciences, Karachi</option>
                        <option value="3">Muslim World League</option>
                        <option value="4">Umm Al-Qura University, Makkah</option>
                        <option value="5">Egyptian General Authority of Survey</option>
                    </select>
                </div>
            </div>

            <!-- Location Card -->
            <div id="prayer-location-card" class="location-card mb-4 d-none">
                <div class="card-header">
                    <i class="fas fa-map-marker-alt me-2"></i>Current Location
                </div>
                <div class="card-body">
                    <p class="mb-0">
                        <strong id="prayer-city">Loading...</strong>,
                        <span id="prayer-country">Loading...</span>
                    </p>
                    <small class="text-muted">
                        Coordinates: <span id="prayer-coordinates">---, ---</span>
                    </small>
                </div>
            </div>

            <!-- Time Format Toggle -->
            <div id="prayer-format-toggle" class="text-center mb-4 d-none">
                <div class="form-check form-switch d-inline-block">
                    <input class="form-check-input" type="checkbox" id="timeFormatSwitch" checked>
                    <label class="form-check-label" for="timeFormatSwitch">
                        <span id="timeFormatLabel">24-hour format</span>
                    </label>
                </div>
            </div>

            <!-- Prayer Times Grid -->
            <div id="prayer-times-grid" class="row g-4 d-none">
                <div class="col-lg-4 col-md-6">
                    <div class="prayer-card" id="fajr-card">
                        <div class="prayer-icon">
                            <i class="fas fa-sun"></i>
                        </div>
                        <div class="prayer-name">Fajr</div>
                        <div class="prayer-time" id="fajr-time">--:--</div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="prayer-card" id="sunrise-card">
                        <div class="prayer-icon">
                            <i class="fas fa-sun"></i>
                        </div>
                        <div class="prayer-name">Sunrise</div>
                        <div class="prayer-time" id="sunrise-time">--:--</div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="prayer-card" id="dhuhr-card">
                        <div class="prayer-icon">
                            <i class="fas fa-sun"></i>
                        </div>
                        <div class="prayer-name">Dhuhr</div>
                        <div class="prayer-time" id="dhuhr-time">--:--</div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="prayer-card" id="asr-card">
                        <div class="prayer-icon">
                            <i class="fas fa-cloud-sun"></i>
                        </div>
                        <div class="prayer-name">Asr</div>
                        <div class="prayer-time" id="asr-time">--:--</div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="prayer-card" id="maghrib-card">
                        <div class="prayer-icon">
                            <i class="fas fa-moon"></i>
                        </div>
                        <div class="prayer-name">Maghrib</div>
                        <div class="prayer-time" id="maghrib-time">--:--</div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="prayer-card" id="isha-card">
                        <div class="prayer-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="prayer-name">Isha</div>
                        <div class="prayer-time" id="isha-time">--:--</div>
                    </div>
                </div>
            </div>

            <!-- Prayer Notifications -->
            <div id="prayer-notifications" class="card mt-4 d-none">
                <div class="card-header">
                    <i class="fas fa-bell me-2"></i>Prayer Notifications
                </div>
                <div class="card-body">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="notificationSwitch">
                        <label class="form-check-label" for="notificationSwitch">
                            Enable prayer time notifications
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <!-- <footer class="bg-islamic-green text-white py-4 mt-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="mb-0 arabic-font">"وَأَقِيمُوا الصَّلَاةَ وَآتُوا الزَّكَاةَ وَارْكَعُوا مَعَ
                        الرَّاكِعِينَ"</p>
                    <small class="text-light">"And establish prayer and give zakah and bow with those who bow." - Quran
                        2:43</small>
                </div>
                <div class="col-md-6 text-md-end footer-links">
                    <a href="about.html">About</a>
                    <a href="prayer-times.html">Prayer Times</a>
                    <a href="mosque-finder.html" onclick="return addLocationToLink(this)">Mosque Finder</a>
                    <a href="qibla.html" onclick="return addLocationToLink(this)">Qibla</a>
                    <small>&copy; 2025 Islamic Prayer Times App</small>
                </div>
            </div>
        </div>
    </footer> -->

    <footer class="bg-islamic-green text-white py-4">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="mb-0 arabic-font">"وَأَقِيمُوا الصَّلَاةَ وَآتُوا الزَّكَاةَ وَارْكَعُوا مَعَ
                        الرَّاكِعِينَ"</p>
                    <small class="text-light">"And establish prayer and give zakah and bow with those who bow." - Quran
                        2:43</small>
                </div>
                <div class="col-md-6 text-md-end footer-links">
                    <a href="#" data-bs-toggle="modal" data-bs-target="#privacyModal">Privacy Policy</a>
                    <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">Terms of Service</a>
                    <a href="#" data-bs-toggle="modal" data-bs-target="#disclaimerModal">Disclaimer</a>
                    <a href="#" data-bs-toggle="modal" data-bs-target="#cookiesModal">Cookie Policy</a>
                    <a href="#" data-bs-toggle="modal" data-bs-target="#contactModal">Contact Us</a>
                    <small>&copy; 2025 SunnahWise App</small>
                </div>
            </div>
        </div>
    </footer>

    <!-- Legal Modals -->
    <!-- Privacy Policy Modal -->
    <div class="modal fade legal-modal" id="privacyModal" tabindex="-1" aria-labelledby="privacyModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="privacyModalLabel"><i class="fas fa-shield-alt me-2"></i>Privacy Policy
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h5>1. Information We Collect</h5>
                    <p>Our SunnahWise app collects limited information to provide you with accurate prayer
                        times and mosque locations:</p>
                    <ul>
                        <li><strong>Location Data:</strong> We collect your device's geographical coordinates to
                            calculate accurate prayer times and find nearby mosques.</li>
                        <li><strong>Usage Data:</strong> We may collect information about how you interact with our app
                            to improve user experience.</li>
                        <li><strong>Device Information:</strong> We collect device type and browser information for
                            compatibility purposes.</li>
                    </ul>

                    <h5>2. How We Use Your Information</h5>
                    <p>We use the collected information solely for the purpose of providing and improving our services:
                    </p>
                    <ul>
                        <li>To calculate accurate prayer times based on your location</li>
                        <li>To locate mosques near your current position</li>
                        <li>To improve app functionality and user experience</li>
                        <li>To provide customer support</li>
                    </ul>

                    <h5>3. Data Storage and Security</h5>
                    <p>We prioritize the security of your information:</p>
                    <ul>
                        <li>Location data is processed in real-time and not stored on our servers</li>
                        <li>We implement appropriate security measures to protect your information</li>
                        <li>We do not sell or share your personal information with third parties</li>
                    </ul>

                    <h5>4. Your Rights</h5>
                    <p>You have the right to:</p>
                    <ul>
                        <li>Access the personal information we hold about you</li>
                        <li>Request correction of inaccurate information</li>
                        <li>Request deletion of your personal data</li>
                        <li>Opt-out of data collection (though this may limit app functionality)</li>
                    </ul>

                    <h5>5. Changes to This Policy</h5>
                    <p>We may update our Privacy Policy from time to time. We will notify you of any changes by posting
                        the new Privacy Policy on this page and updating the "Last Updated" date.</p>

                    <p class="mt-4"><strong>Last Updated:</strong> January 1, 2025</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Terms of Service Modal -->
    <div class="modal fade legal-modal" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="termsModalLabel"><i class="fas fa-file-contract me-2"></i>Terms of
                        Service</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h5>1. Acceptance of Terms</h5>
                    <p>By accessing and using the SunnahWise app, you accept and agree to be bound by the
                        terms and provision of this agreement.</p>

                    <h5>2. Use License</h5>
                    <p>Permission is granted to temporarily use the SunnahWise app for personal,
                        non-commercial transitory viewing only.</p>

                    <h5>3. Disclaimer</h5>
                    <p>The prayer times and mosque locations are provided for informational purposes only. While we
                        strive to provide accurate information, we cannot guarantee the absolute accuracy of prayer
                        times or mosque locations.</p>

                    <h5>4. Limitations</h5>
                    <p>In no event shall SunnahWise or its suppliers be liable for any damages arising out of
                        the use or inability to use the services provided by the app.</p>

                    <h5>5. Accuracy of Materials</h5>
                    <p>The materials appearing in the SunnahWise app could include technical, typographical,
                        or photographic errors. We do not warrant that any of the materials on its app are accurate,
                        complete or current.</p>

                    <h5>6. Modifications</h5>
                    <p>SunnahWise may revise these terms of service for its app at any time without notice. By
                        using this app you are agreeing to be bound by the then current version of these terms of
                        service.</p>

                    <h5>7. Governing Law</h5>
                    <p>These terms and conditions are governed by and construed in accordance with the laws and any
                        disputes relating to these terms and conditions will be subject to the exclusive jurisdiction of
                        the courts.</p>

                    <p class="mt-4"><strong>Last Updated:</strong> January 1, 2025</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Disclaimer Modal -->
    <div class="modal fade legal-modal" id="disclaimerModal" tabindex="-1" aria-labelledby="disclaimerModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="disclaimerModalLabel"><i
                            class="fas fa-exclamation-circle me-2"></i>Disclaimer</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h5>1. Prayer Times Accuracy</h5>
                    <p>The prayer times provided by this app are calculated using established mathematical formulas and
                        are based on your geographical location. While we strive to provide accurate prayer times,
                        actual prayer times may vary slightly based on local customs, mosque announcements, and other
                        factors. Users are advised to confirm prayer times with their local mosque for religious
                        obligations.</p>

                    <h5>2. Mosque Locations</h5>
                    <p>The mosque locations are sourced from OpenStreetMap and may not be comprehensive or completely
                        accurate. The inclusion or exclusion of any mosque does not represent an endorsement or
                        criticism of that institution. We recommend verifying mosque information before visiting.</p>

                    <h5>3. Religious Considerations</h5>
                    <p>This app is intended as a helpful tool for Muslims but should not replace religious knowledge or
                        guidance from qualified scholars. Users are responsible for ensuring their prayers and religious
                        practices comply with their understanding of Islamic requirements.</p>

                    <h5>4. Technical Limitations</h5>
                    <p>The accuracy of location-based services depends on your device's capabilities and connectivity.
                        Results may vary based on GPS accuracy, network availability, and other technical factors beyond
                        our control.</p>

                    <h5>5. No Warranty</h5>
                    <p>The SunnahWise app is provided "as is" without any warranties, expressed or implied. We
                        make no guarantees regarding the availability, accuracy, or reliability of the services.</p>

                    <h5>6. Limitation of Liability</h5>
                    <p>In no event shall the creators of this app be liable for any missed prayers, religious
                        obligations, or any direct, indirect, incidental, special, or consequential damages arising from
                        the use of or inability to use the app.</p>

                    <p class="mt-4"><strong>Last Updated:</strong> January 1, 2025</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Cookie Policy Modal -->
    <div class="modal fade legal-modal" id="cookiesModal" tabindex="-1" aria-labelledby="cookiesModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cookiesModalLabel"><i class="fas fa-cookie-bite me-2"></i>Cookie Policy
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h5>1. What Are Cookies</h5>
                    <p>Cookies are small text files that are stored on your device when you visit websites or use web
                        applications. They are widely used to make websites work efficiently and provide information to
                        the owners of the site.</p>

                    <h5>2. How We Use Cookies</h5>
                    <p>Our SunnahWise app uses cookies for the following purposes:</p>
                    <ul>
                        <li><strong>Essential Cookies:</strong> These are necessary for the app to function properly.
                            They enable core functionality such as location services and prayer time calculations.</li>
                        <li><strong>Preference Cookies:</strong> These remember your choices such as time format
                            preferences (12-hour or 24-hour format).</li>
                        <li><strong>Analytical Cookies:</strong> These help us understand how users interact with our
                            app, allowing us to improve its functionality and user experience.</li>
                    </ul>

                    <h5>3. Third-Party Cookies</h5>
                    <p>We may use services from third parties that place cookies on your device:</p>
                    <ul>
                        <li><strong>Mapping Services:</strong> Our mosque finder feature uses OpenStreetMap which may
                            place cookies for functionality.</li>
                        <li><strong>Analytics Services:</strong> We use analytics services to understand how our app is
                            being used and to make improvements.</li>
                    </ul>

                    <h5>4. Managing Cookies</h5>
                    <p>You can control and manage cookies in various ways:</p>
                    <ul>
                        <li>Most browsers allow you to refuse cookies or delete them. You can usually find these
                            settings in your browser's "options" or "preferences" menu.</li>
                        <li>Please note that disabling cookies may affect the functionality of our app and many other
                            websites that you visit.</li>
                    </ul>

                    <h5>5. Consent</h5>
                    <p>By using our app, you consent to the use of cookies in accordance with this Cookie Policy. If you
                        do not agree to our use of cookies, you should adjust your browser settings appropriately or
                        discontinue use of our app.</p>

                    <h5>6. Changes to This Policy</h5>
                    <p>We may update our Cookie Policy from time to time. We will notify you of any changes by posting
                        the new Cookie Policy on this page.</p>

                    <p class="mt-4"><strong>Last Updated:</strong> January 1, 2025</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- In your contact page -->
    <div class="modal fade legal-modal" id="contactModal" tabindex="-1" aria-labelledby="contactModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="contactModalLabel"><i class="fas fa-envelope me-2"></i>Contact Us</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <h5>Get In Touch</h5>
                    <p>We're here to assist you with any questions about prayer times, mosque locations, or technical
                        support for our app.</p>

                    <div class="row justify-content-center mt-4">
                        <div class="col-md-8"> <!-- Increased width for better centering -->
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <div class="contact-icon mb-3">
                                        <i class="fas fa-envelope fa-2x text-primary"></i>
                                    </div>
                                    <h5>Email Support</h5>
                                    <p>Send us an email for assistance with the app or prayer time calculations</p>
                                    <a href="mailto:kindnesspath1@gmail.com" class="btn btn-primary mt-2">
                                        <i class="fas fa-paper-plane me-2"></i>Send Email
                                    </a>
                                    <p class="small text-muted mt-2">
                                        <!-- <em>Once we launch, this will be a dedicated support email</em> -->
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Location Manager -->
    <script src="location-manager.js"></script>

    <script>
        // Prayer Times page functionality
        document.addEventListener('DOMContentLoaded', function () {
            // Update navigation active state
            const currentPage = window.location.pathname.split('/').pop() || 'prayer-times.html';
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('active');
                }
            });

            // Initialize location and load prayer times
            window.locationManager.getLocation().then(() => {
                loadPrayerTimes();
            }).catch((error) => {
                document.getElementById('prayer-loading').classList.add('d-none');
                document.getElementById('prayer-error').classList.remove('d-none');
            });

            // Setup event listeners
            setupEventListeners();
        });

        // document.addEventListener('DOMContentLoaded', async function () {
        //     // Update navigation active state
        //     const currentPage = window.location.pathname.split('/').pop() || 'prayer-times.html';
        //     document.querySelectorAll('.nav-link').forEach(link => {
        //         link.classList.remove('active');
        //         if (link.getAttribute('href') === currentPage) {
        //             link.classList.add('active');
        //         }
        //     });

        //     try {
        //         // Get location - no URL parameters involved
        //         const loc = await window.locationManager.getLocation();
        //         console.log("✅ Location for prayer times:", loc);

        //         if (loc) {
        //             // Update location info immediately
        //             updateLocationInfo(loc);

        //             // Then load prayer times
        //             loadPrayerTimes();
        //         } else {
        //             throw new Error("No location available");
        //         }
        //     } catch (error) {
        //         console.error("⚠️ Location error:", error.message);
        //         document.getElementById('prayer-loading').classList.add('d-none');
        //         document.getElementById('prayer-error').classList.remove('d-none');
        //     }

        //     // Setup event listeners
        //     setupEventListeners();
        // });

        function setupEventListeners() {
            // Time format toggle
            const timeFormatSwitch = document.getElementById('timeFormatSwitch');
            if (timeFormatSwitch) {
                const savedFormat = localStorage.getItem('timeFormat');
                const is24HourFormat = savedFormat ? savedFormat === '24' : true;
                timeFormatSwitch.checked = is24HourFormat;
                updateTimeFormatLabel(is24HourFormat);

                timeFormatSwitch.addEventListener('change', (e) => {
                    const is24Hour = e.target.checked;
                    localStorage.setItem('timeFormat', is24Hour ? '24' : '12');
                    updateTimeFormatLabel(is24Hour);
                    if (window.prayerTimes) {
                        displayPrayerTimes(window.prayerTimes, is24Hour);
                    }
                });
            }

            // Calculation method selector
            const methodSelect = document.getElementById('methodSelect');
            if (methodSelect) {
                methodSelect.value = localStorage.getItem('calculationMethod') || '2';
                methodSelect.addEventListener('change', (e) => {
                    localStorage.setItem('calculationMethod', e.target.value);
                    if (window.locationManager.userLocation) {
                        loadPrayerTimes();
                    }
                });
            }

            // Notification toggle
            const notificationSwitch = document.getElementById('notificationSwitch');
            if (notificationSwitch) {
                notificationSwitch.checked = localStorage.getItem('notificationsEnabled') === 'true';
                notificationSwitch.addEventListener('change', (e) => {
                    localStorage.setItem('notificationsEnabled', e.target.checked);
                });
            }
        }

        function updateTimeFormatLabel(is24HourFormat) {
            const label = document.getElementById('timeFormatLabel');
            if (label) {
                label.textContent = is24HourFormat ? '24-hour format' : '12-hour format';
            }
        }

        async function loadPrayerTimes() {
            const location = window.locationManager.userLocation;
            if (!location) return;

            try {
                const method = document.getElementById('methodSelect').value || '2';
                const response = await fetch(
                    `https://api.aladhan.com/v1/timings/date-string?latitude=${location.lat}&longitude=${location.lng}&method=${method}`
                );
                const data = await response.json();

                if (data.code === 200) {
                    window.prayerTimes = data.data.timings;
                    displayPrayerTimes(data.data.timings);

                    // Show content, hide loading
                    document.getElementById('prayer-loading').classList.add('d-none');
                    document.getElementById('prayer-location-card').classList.remove('d-none');
                    document.getElementById('prayer-format-toggle').classList.remove('d-none');
                    document.getElementById('prayer-times-grid').classList.remove('d-none');
                    document.getElementById('calculation-method').classList.remove('d-none');
                    document.getElementById('prayer-notifications').classList.remove('d-none');

                    // Update location info
                    document.getElementById('prayer-city').textContent = location.city || 'Unknown';
                    document.getElementById('prayer-country').textContent = location.country || 'Unknown';
                    document.getElementById('prayer-coordinates').textContent =
                        `${location.lat.toFixed(4)}, ${location.lng.toFixed(4)}`;
                } else {
                    throw new Error('Failed to load prayer times');
                }
            } catch (error) {
                console.error('Error loading prayer times:', error);
                document.getElementById('prayer-loading').classList.add('d-none');
                document.getElementById('prayer-error').classList.remove('d-none');
            }
        }

        function displayPrayerTimes(prayerTimes, is24HourFormat = null) {
            if (!prayerTimes) return;

            const use24Hour = is24HourFormat !== null ? is24HourFormat :
                (localStorage.getItem('timeFormat') !== '12');

            // Update prayer times
            const prayers = ['Fajr', 'Dhuhr', 'Asr', 'Maghrib', 'Isha', 'Sunrise'];
            prayers.forEach(prayer => {
                const timeElement = document.getElementById(`${prayer.toLowerCase()}-time`);
                if (timeElement && prayerTimes[prayer]) {
                    timeElement.textContent = formatTime(prayerTimes[prayer], use24Hour);
                }
            });

            highlightCurrentPrayer(prayerTimes);
        }

        function formatTime(timeString, is24HourFormat) {
            const [hours, minutes] = timeString.split(':');

            if (is24HourFormat) {
                return `${hours}:${minutes}`;
            } else {
                const date = new Date();
                date.setHours(parseInt(hours), parseInt(minutes));
                return date.toLocaleTimeString('en-US', {
                    hour: 'numeric',
                    minute: '2-digit',
                    hour12: true
                });
            }
        }

        function highlightCurrentPrayer(prayerTimes) {
            if (!prayerTimes) return;

            const now = new Date();
            const currentTime = now.getHours() * 60 + now.getMinutes();

            const prayers = [
                { name: 'fajr', time: prayerTimes.Fajr },
                { name: 'dhuhr', time: prayerTimes.Dhuhr },
                { name: 'asr', time: prayerTimes.Asr },
                { name: 'maghrib', time: prayerTimes.Maghrib },
                { name: 'isha', time: prayerTimes.Isha }
            ];

            // Remove current prayer highlighting
            prayers.forEach(prayer => {
                document.getElementById(`${prayer.name}-card`)?.classList.remove('current-prayer');
            });

            // Find current prayer period
            for (let i = 0; i < prayers.length; i++) {
                const [hours, minutes] = prayers[i].time.split(':');
                const prayerTime = parseInt(hours) * 60 + parseInt(minutes);

                const nextIndex = (i + 1) % prayers.length;
                const [nextHours, nextMinutes] = prayers[nextIndex].time.split(':');
                let nextPrayerTime = parseInt(nextHours) * 60 + parseInt(nextMinutes);

                // Handle day transition
                if (nextPrayerTime < prayerTime) {
                    nextPrayerTime += 24 * 60;
                }

                if (currentTime >= prayerTime && currentTime < nextPrayerTime) {
                    document.getElementById(`${prayers[i].name}-card`)?.classList.add('current-prayer');
                    break;
                }
            }
        }

        // Clear any location data that might have come from URL parameters
        // when the page loads
        window.addEventListener('load', function () {
            // Clear URL parameters without reloading
            if (window.location.search) {
                window.history.replaceState({}, document.title, window.location.pathname);
            }
        });
    </script>
</body>

</html>
