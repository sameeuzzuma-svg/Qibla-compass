<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mosque Finder - SunnahWise</title>
    <meta name="description" content="Find nearby mosques with directions and contact information.">
       <meta name="keywords" content="mosque finder, find mosque, nearby mosque, masjid near me, Islamic center, prayer location">
    

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts - Islamic Style -->
    <link
        href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Roboto:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <!-- Leaflet CSS for Maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
<link rel="canonical" href="https://sunnahwise.com/mosque-finder" />
    
    

    <style>
        /* Islamic Prayer Times App - Custom Styles */
        :root {
            --islamic-green: #2d5a3d;
            --islamic-green-light: #4a8061;
            --islamic-gold: #d4af37;
            --islamic-gold-light: #f4d03f;
            --text-dark: #2c3e50;
            --text-light: #ecf0f1;
            --shadow-light: rgba(0, 0, 0, 0.1);
            --shadow-medium: rgba(0, 0, 0, 0.15);
            --gradient-green: linear-gradient(135deg, var(--islamic-green), var(--islamic-green-light));
            --gradient-gold: linear-gradient(135deg, var(--islamic-gold), var(--islamic-gold-light));
        }

        /* Base Styles */
        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding-top: 76px;
        }

        .arabic-font {
            font-family: 'Amiri', serif;
            font-weight: 700;
        }

        /* Navigation */
        .bg-islamic-green {
            background: var(--gradient-green) !important;
            box-shadow: 0 2px 20px var(--shadow-medium);
        }

        .navbar-brand {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .navbar-nav .nav-link {
            font-weight: 500;
            margin: 0 0.5rem;
            transition: all 0.3s ease;
            border-radius: 25px;
            padding: 0.5rem 1rem !important;
        }

        .navbar-nav .nav-link:hover,
        .navbar-nav .nav-link.active {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        /* Section Header */
        .section-header {
            margin-bottom: 3rem;
        }

        .section-header h1 {
            color: var(--islamic-green);
            font-weight: 700;
            margin-bottom: 1rem;
        }

        /* Map Container */
        .map-container {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px var(--shadow-light);
            height: 500px;
            position: relative;
        }

        #mosque-map {
            height: 100%;
            width: 100%;
        }

        /* Mosque List Items */
        .mosque-item {
            background: white;
            border-radius: 10px;
            padding: 1rem;
            box-shadow: 0 4px 15px var(--shadow-light);
            transition: transform 0.3s ease;
            cursor: pointer;
            margin-bottom: 1rem;
        }

        .mosque-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px var(--shadow-medium);
        }

        .mosque-name {
            font-weight: 600;
            color: var(--islamic-green);
            margin-bottom: 0.5rem;
        }

        .mosque-address {
            color: #6c757d;
            font-size: 0.9rem;
        }

        .mosque-distance {
            color: var(--islamic-gold);
            font-weight: 600;
            font-size: 0.9rem;
        }

        .distance-badge {
            background: var(--islamic-gold);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* Mosque Actions */
        .mosque-actions {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .mosque-actions .btn-sm {
            font-size: 0.8rem;
            padding: 0.25rem 0.5rem;
        }

        /* Cards */
        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 8px 25px var(--shadow-light);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-header {
            background: var(--gradient-green);
            color: white;
            border: none;
            font-weight: 600;
        }

        /* Alerts */
        .alert {
            border: none;
            border-radius: 10px;
            box-shadow: 0 4px 15px var(--shadow-light);
        }

        /* Loading Spinners */
        .spinner-border {
            color: var(--islamic-green) !important;
        }

        /* Buttons */
        .btn-primary {
            background: var(--gradient-green);
            border: none;
            border-radius: 25px;
            padding: 0.75rem 2rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background: var(--gradient-gold);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(--shadow-medium);
        }

        /* Filter Controls */
        .filter-controls {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 25px var(--shadow-light);
        }

     /* Footer */
footer {
    background: linear-gradient(135deg, #14532d, #166534);
    margin-top: 3rem;
    padding: 3rem 0;
    color: #f8f9fa;
    font-family: 'Poppins', sans-serif;
}

footer .container {
    max-width: 1200px;
}

/* Section spacing */
.footer-section {
    margin-bottom: 2rem;
}

/* Headings */
footer .footer-heading {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: #fff;
}

/* Quran */
footer .quran-quote {
    font-size: 1.05rem;
    font-style: italic;
    line-height: 1.6;
    margin-bottom: 0.5rem;
}

footer .quran-translation {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.75);
}

/* Links */
.footer-links {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
}

.footer-links a {
    color: rgba(255, 255, 255, 0.85);
    text-decoration: none;
    transition: all 0.3s ease;
    font-size: 0.9rem;
    position: relative;
    padding-bottom: 2px;
}

.footer-links a:hover {
    color: #fff;
}

.footer-links a::after {
    content: "";
    position: absolute;
    width: 0%;
    height: 2px;
    background: #fff;
    left: 0;
    bottom: 0;
    transition: width 0.3s ease;
}

.footer-links a:hover::after {
    width: 100%;
}

/* Divider */
footer .footer-divider {
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    margin: 2rem 0;
}

/* Bottom */
footer .footer-bottom {
    text-align: center;
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.7);
}

/* ===========================
   Mobile Responsive
   =========================== */
@media (max-width: 768px) {
    footer {
        text-align: center;
    }

    .footer-links {
        justify-content: center;
    }

    .footer-section {
        margin-bottom: 2rem;
        padding-bottom: 1.5rem;
        border-bottom: 1px solid rgba(255, 255, 255, 0.15);
    }

    /* Remove last section border */
    .footer-section:last-child {
        border-bottom: none;
    }

    footer .footer-heading {
        margin-bottom: 0.8rem;
        font-size: 1rem;
    }

    footer .quran-quote {
        font-size: 0.95rem;
    }

    footer .quran-translation {
        font-size: 0.8rem;
    }
}


        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding-top: 76px;
            }

            .map-container {
                height: 400px;
            }

            .mosque-actions {
                flex-direction: column;
                gap: 0.25rem;
            }

            .mosque-actions .btn-sm {
                font-size: 0.7rem;
                padding: 0.2rem 0.4rem;
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-islamic-green fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-mosque me-2"></i>
                SunnahWise
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="prayer-times.html" onclick="return addLocationToLink(this)">Prayer
                            Times</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="mosque-finder.html">Mosque Finder</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="qibla.html" onclick="return addLocationToLink(this)">Qibla Finder</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="dhikr.html">Dhikr Counter</a>
                    </li>
                       <li class="nav-item">
                        <a class="nav-link" href="zakat.html">Zakat Calculator</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

  <!-- Main Content -->
    <main class="main-content">
        <div class="container py-5">
            <div class="section-header text-center mb-5">
                <h1 class="display-5 fw-bold text-success">
                    <i class="fas fa-mosque me-3"></i>Real Mosque Finder
                </h1>
                <p class="lead">Find actual mosques near you with real-time data</p>
            </div>

            <!-- Search Section -->
            <div class="row mb-4">
                <div class="col-md-6">
                    <div class="input-group">
                        <input type="text" class="form-control form-control-lg" placeholder="Enter your city or address..." id="locationInput">
                        <button class="btn btn-success btn-lg" onclick="searchByLocation()">
                            <i class="fas fa-search-location"></i>
                        </button>
                    </div>
                </div>
                <div class="col-md-6">
                    <button class="btn btn-outline-success btn-lg w-100" onclick="getUserLocation()">
                        <i class="fas fa-location-arrow me-2"></i>Use My Current Location
                    </button>
                </div>
            </div>

            <!-- Loading State -->
            <div id="loadingState" class="text-center d-none">
                <div class="spinner-border text-success" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p class="mt-2">Searching for mosques in your area...</p>
            </div>

            <!-- Error State -->
            <div id="errorState" class="alert alert-danger d-none text-center">
                <i class="fas fa-exclamation-triangle me-2"></i>
                <span id="errorMessage">Unable to load mosques. Please try again.</span>
            </div>

            <!-- Results Section -->
            <div id="resultsSection" class="d-none">
                <div class="row">
                    <!-- Map Column -->
                    <div class="col-lg-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header bg-success text-white">
                                <h5 class="mb-0"><i class="fas fa-map me-2"></i>Mosques Map</h5>
                            </div>
                            <div class="card-body p-0">
                                <div id="mosque-map" style="height: 500px;"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Mosques List -->
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
                                <h5 class="mb-0"><i class="fas fa-list me-2"></i>Nearby Mosques</h5>
                                <span class="badge bg-light text-success" id="mosque-count">0 found</span>
                            </div>
                            <div class="card-body" style="max-height: 500px; overflow-y: auto;">
                                <div id="mosque-list"></div>
                            </div>
                        </div>

                        <!-- Google Maps Integration -->
                        <div class="card mt-4 border-warning">
                            <div class="card-body text-center">
                                <i class="fab fa-google fa-2x text-warning mb-3"></i>
                                <h5>Need More Options?</h5>
                                <p class="text-muted">Search for additional mosques on Google Maps</p>
                                <button class="btn btn-outline-warning" onclick="openGoogleMaps()">
                                    <i class="fab fa-google me-2"></i>Search on Google Maps
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- No Results -->
            <div id="noResults" class="text-center d-none">
                <div class="card border-0 shadow">
                    <div class="card-body py-5">
                        <i class="fas fa-mosque fa-4x text-muted mb-3"></i>
                        <h3>No Mosques Found</h3>
                        <p class="text-muted mb-4">We couldn't find any mosques in the specified area.</p>
                        <button class="btn btn-success me-2" onclick="openGoogleMaps()">
                            <i class="fab fa-google me-2"></i>Try Google Maps
                        </button>
                        <button class="btn btn-outline-success" onclick="getUserLocation()">
                            <i class="fas fa-location-arrow me-2"></i>Try Another Location
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

  
 <!--footer-->
<footer>
  <div class="container">
    <div class="row">
      
      <!-- Quran Quote -->
      <div class="col-md-4 col-12 footer-section">
        <h5 class="footer-heading">Quran</h5>
        <p class="quran-quote">
          "Indeed, prayer has been decreed upon the believers a decree of specified times." 
        </p>
        <p class="quran-translation">— Surah An-Nisa 4:103</p>
      </div>

      <!-- Quick Links -->
      <div class="col-md-4 col-12 footer-section">
        <h5 class="footer-heading">Quick Links</h5>
        <div class="footer-links">
          <a href="index.html">Home</a>
          <a href="prayer-times.html">Prayer Times</a>
          <a href="mosque-finder.html">Mosque Finder</a>
          <a href="qibla.html">Qibla Finder</a>
          <a href="dhikr.html">Dhikr Counter</a>
          <a href="zakat.html">Zakat Calculator</a>
          <a href="about.html">About</a>
        </div>
      </div>

      <!-- Privacy & Legal -->
       <div class="col-md-6 text-md-end footer-links">
           <h5 class="footer-heading">Legal</h5>
           <div class="footer-links">
                    <a href="privacy.html">Privacy Policy</a>
                    <a href="terms.html" >Terms of Service</a>
                    <a href="disclaimer.html" >Disclaimer</a>
                    <a href="cookies.html" >Cookie Policy</a>
                    <a href="contact.html" >Contact Us</a>
                    </div>
                   
                </div>
    </div>

    <!-- Divider -->
    <!--<div class="footer-divider"></div>-->

    <!-- Bottom -->
    <div class="footer-bottom">
      <p>© 2025 SunnahWise. All rights reserved.</p>
      <p class="small">Made with ❤️ for the Ummah</p>
    </div>
  </div>
</footer>



    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Leaflet JS for Maps -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- Location Manager -->
    <!-- <script src="location-manager.js"></script> -->

    
    <script>
        let map;
        let userLocation = null;
        let mosqueMarkers = [];

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeMap();
            // Don't auto-load - wait for user action
        });

        function initializeMap(center = [40.7128, -74.0060]) {
            if (map) {
                map.remove();
            }
            
            map = L.map('mosque-map').setView(center, 13);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '© OpenStreetMap contributors'
            }).addTo(map);
        }

        // Get user's current location
        function getUserLocation() {
            showLoadingState();
            
            if (!navigator.geolocation) {
                showError("Geolocation is not supported by your browser");
                return;
            }

            navigator.geolocation.getCurrentPosition(
                async function(position) {
                    userLocation = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
                    
                    initializeMap([userLocation.lat, userLocation.lng]);
                    await searchRealMosques(userLocation);
                },
                function(error) {
                    let errorMessage = "Unable to get your location. ";
                    switch(error.code) {
                        case error.PERMISSION_DENIED:
                            errorMessage += "Please allow location access.";
                            break;
                        case error.POSITION_UNAVAILABLE:
                            errorMessage += "Location information is unavailable.";
                            break;
                        case error.TIMEOUT:
                            errorMessage += "Location request timed out.";
                            break;
                    }
                    showError(errorMessage);
                },
                {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 60000
                }
            );
        }

        // Search by entered location
        async function searchByLocation() {
            const locationText = document.getElementById('locationInput').value.trim();
            
            if (!locationText) {
                showError("Please enter a location");
                return;
            }

            showLoadingState();

            try {
                // Use OpenStreetMap Nominatim for geocoding
                const response = await fetch(
                    `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(locationText)}&limit=1`
                );
                
                const data = await response.json();
                
                if (data && data.length > 0) {
                    userLocation = {
                        lat: parseFloat(data[0].lat),
                        lng: parseFloat(data[0].lon)
                    };
                    
                    initializeMap([userLocation.lat, userLocation.lng]);
                    await searchRealMosques(userLocation);
                } else {
                    showError("Location not found. Please try a different search term.");
                }
            } catch (error) {
                showError("Error searching for location: " + error.message);
            }
        }

        // Search for real mosques using Overpass API
        async function searchRealMosques(location) {
            showLoadingState();
            clearMosqueMarkers();

            try {
                // Overpass API query for mosques
                const overpassQuery = `
                    [out:json];
                    (
                        node["amenity"="place_of_worship"]["religion"="muslim"](around:10000,${location.lat},${location.lng});
                        way["amenity"="place_of_worship"]["religion"="muslim"](around:10000,${location.lat},${location.lng});
                        relation["amenity"="place_of_worship"]["religion"="muslim"](around:10000,${location.lat},${location.lng});
                    );
                    out center;
                `;

                const response = await fetch(
                    'https://overpass-api.de/api/interpreter',
                    {
                        method: 'POST',
                        body: 'data=' + encodeURIComponent(overpassQuery)
                    }
                );

                const data = await response.json();

                if (data.elements && data.elements.length > 0) {
                    const mosques = processMosqueData(data.elements, location);
                    displayRealMosques(mosques);
                } else {
                    showNoResults();
                }

            } catch (error) {
                console.error('Error fetching mosque data:', error);
                showError("Failed to load mosque data. Please try again.");
            }
        }

        // Process raw mosque data from Overpass API
        function processMosqueData(elements, userLoc) {
            return elements
                .map(element => {
                    let lat, lng;

                    if (element.type === 'node') {
                        lat = element.lat;
                        lng = element.lon;
                    } else if (element.center) {
                        lat = element.center.lat;
                        lng = element.center.lon;
                    } else {
                        return null;
                    }

                    const distance = calculateDistance(userLoc.lat, userLoc.lng, lat, lng);
                    
                    return {
                        id: element.id,
                        name: element.tags?.name || 'Mosque',
                        lat: lat,
                        lng: lng,
                        address: element.tags?.['addr:full'] || 
                                element.tags?.['addr:street'] || 
                                element.tags?.['addr:city'] || 
                                'Address not specified',
                        distance: distance,
                        features: getMosqueFeatures(element.tags),
                        source: 'OpenStreetMap'
                    };
                })
                .filter(mosque => mosque !== null)
                .sort((a, b) => a.distance - b.distance);
        }

        // Extract features from mosque tags
        function getMosqueFeatures(tags) {
            const features = [];
            
            if (tags?.['capacity']) features.push('Capacity: ' + tags.capacity);
            if (tags?.['building']) features.push(tags.building);
            if (tags?.['architect']) features.push('Architect: ' + tags.architect);
            
            return features.length > 0 ? features : ['Islamic Worship Place'];
        }

        // Calculate distance between two points
        function calculateDistance(lat1, lng1, lat2, lng2) {
            const R = 6371;
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLng = (lng2 - lng1) * Math.PI / 180;
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                    Math.sin(dLng/2) * Math.sin(dLng/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
        }

        // Display real mosques
        function displayRealMosques(mosques) {
            hideAllSections();
            document.getElementById('resultsSection').classList.remove('d-none');
            
            const mosqueList = document.getElementById('mosque-list');
            const mosqueCount = document.getElementById('mosque-count');
            
            mosqueList.innerHTML = '';
            mosqueCount.textContent = `${mosques.length} mosques found`;

            if (mosques.length === 0) {
                showNoResults();
                return;
            }

            // Add user location marker
            L.marker([userLocation.lat, userLocation.lng])
                .addTo(map)
                .bindPopup('Your Location')
                .openPopup();

            mosques.forEach(mosque => {
                const mosqueElement = createMosqueCard(mosque);
                mosqueList.appendChild(mosqueElement);
                addMosqueToMap(mosque);
            });

            // Adjust map view to show all markers
            if (mosqueMarkers.length > 0) {
                const group = new L.featureGroup(mosqueMarkers);
                map.fitBounds(group.getBounds().pad(0.1));
            }
        }

        function createMosqueCard(mosque) {
            const div = document.createElement('div');
            div.className = 'mosque-card card mb-3';
            
            div.innerHTML = `
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start mb-2">
                        <h6 class="card-title text-success mb-0">${mosque.name}</h6>
                        <span class="badge bg-success">${mosque.distance.toFixed(1)} km</span>
                    </div>
                    
                    <p class="card-text small text-muted mb-2">
                        <i class="fas fa-map-marker-alt me-1"></i>${mosque.address}
                    </p>
                    
                    <!-- Features -->
                    <div class="mb-2">
                        <strong class="small">Features:</strong>
                        <div class="mt-1">
                            ${mosque.features.map(feature => 
                                `<span class="feature-badge">${feature}</span>`
                            ).join('')}
                        </div>
                    </div>
                    
                    <!-- Source -->
                    <div class="small text-muted mb-3">
                        <i class="fas fa-database me-1"></i>Source: ${mosque.source}
                    </div>
                    
                    <div class="mt-3">
                        <button class="btn btn-sm btn-outline-success me-2" onclick="getDirections(${mosque.lat}, ${mosque.lng})">
                            <i class="fas fa-directions me-1"></i>Directions
                        </button>
                        <button class="btn btn-sm btn-outline-primary" onclick="viewMosqueDetails(${mosque.lat}, ${mosque.lng})">
                            <i class="fas fa-map-marker-alt me-1"></i>View on Map
                        </button>
                    </div>
                </div>
            `;
            
            return div;
        }

        function addMosqueToMap(mosque) {
            const marker = L.marker([mosque.lat, mosque.lng])
                .addTo(map)
                .bindPopup(`
                    <strong>${mosque.name}</strong><br>
                    ${mosque.address}<br>
                    <small>Distance: ${mosque.distance.toFixed(1)} km</small>
                `);
            
            mosqueMarkers.push(marker);
        }

        function clearMosqueMarkers() {
            mosqueMarkers.forEach(marker => map.removeLayer(marker));
            mosqueMarkers = [];
        }

        // UI State Management
        function showLoadingState() {
            hideAllSections();
            document.getElementById('loadingState').classList.remove('d-none');
        }

        function showError(message) {
            hideAllSections();
            document.getElementById('errorMessage').textContent = message;
            document.getElementById('errorState').classList.remove('d-none');
        }

        function showNoResults() {
            hideAllSections();
            document.getElementById('noResults').classList.remove('d-none');
        }

        function hideAllSections() {
            document.getElementById('loadingState').classList.add('d-none');
            document.getElementById('errorState').classList.add('d-none');
            document.getElementById('resultsSection').classList.add('d-none');
            document.getElementById('noResults').classList.add('d-none');
        }

        // Utility Functions
        function getDirections(lat, lng) {
            if (!userLocation) return;
            const url = `https://www.google.com/maps/dir/${userLocation.lat},${userLocation.lng}/${lat},${lng}`;
            window.open(url, '_blank');
        }

        function viewMosqueDetails(lat, lng) {
            map.setView([lat, lng], 16);
        }

        function openGoogleMaps() {
            if (!userLocation) {
                const url = `https://www.google.com/maps/search/mosque+near+me/`;
                window.open(url, '_blank');
            } else {
                const url = `https://www.google.com/maps/search/mosque+near+me/@${userLocation.lat},${userLocation.lng},14z`;
                window.open(url, '_blank');
            }
        }
    </script>
</body>

</html>
